<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Opticien </title>
    <link rel="icon" href="img/favicon.png">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- animate CSS -->
    <link rel="stylesheet" href="css/animate.css">
    <!-- owl carousel CSS -->
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <!-- themify CSS -->
    <link rel="stylesheet" href="css/themify-icons.css">
    <!-- flaticon CSS -->
    <link rel="stylesheet" href="css/flaticon.css">
    <!-- magnific popup CSS -->
    <link rel="stylesheet" href="css/magnific-popup.css">
    <!-- nice select CSS -->
    <link rel="stylesheet" href="css/nice-select.css">
    <!-- swiper CSS -->
    <link rel="stylesheet" href="css/slick.css">
    <!-- style CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!--::header part start::-->
    <header class="main_menu home_menu">
        <div class="container">
            <div class="row align-items-center">
                <div class="row align-items-center" style="
                        padding: 20px;
                    ">
                <div class="col-lg-12">
                    <nav class="navbar navbar-expand-lg navbar-light">
                        <a class="navbar-brand" href="index.html"> <img src="img/logo.png" alt="logo"> </a>

                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- Header part end-->

    <!-- banner part start-->
    <section class="banner_part">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-5 col-xl-5">
                    <div class="banner_text">
                        <div class="banner_text_iner">
                            <h5>Opticien à votre disposition</h5>
                            <h1>Qualité &
                                Prix exceptionnel ...</h1>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing
                                elit sed do eiusmod tempor incididunt ut labore et dolore
                                magna aliqua. Quis ipsum suspendisse ultrices gravida.Risus cmodo viverra </p>
                            <a href="#join_us" class="btn_2">Nous joindre!</a>

                        </div>
                    </div>
                </div>
                <div class="col-lg-7">
                    <div class="banner_img">
                        <img src="img/banner_img.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- banner part start-->

    <!-- about us part start-->
    <section id="join_us">
        <div class="container">
            <div class="row justify-content-between align-items-center">
                <div class="col-md-12 col-lg-12">
                    <div class="about_us_text">
                        <h2 class="text-center">Nous joindre</h2>
                        

                            <div class="center">
                              <div id="register">

                                <i id="progressButton" class="ion-android-arrow-forward next">
                                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                                        width="48" height="48"
                                        viewBox="0 0 172 172"
                                        style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#3473db"><path d="M39.27885,23.98077c-3.15264,0.3101 -6.20192,2.94592 -6.20192,6.40865v11.99038c0,2.63582 1.29207,4.67728 3.92788,5.99519l75.25,37.625l-75.25,37.625c-2.63581,1.31791 -3.92788,3.35938 -3.92788,5.99519v11.99038c0,4.6256 5.32332,7.98497 9.30288,5.99519l92.61538,-46.30769c2.63582,-1.31791 3.92788,-3.35937 3.92788,-5.99519v-18.60577c0,-2.63581 -1.9381,-4.67728 -3.92788,-5.99519l-92.61538,-46.30769c-0.98197,-0.49099 -2.04147,-0.51683 -3.10096,-0.41346z"></path></g></g>
                                    </svg>
                                </i>

                                <div id="inputContainer">
                                  <input id="inputField" required autofocus />
                                  <label id="inputLabel"></label>
                                  <div id="inputProgress"></div>
                                  <div id="progress"></div>
                                </div>

                              </div>
                            </div>
                       
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- about us part end-->

    <!-- footer part start-->
    <footer class="footer-area">
        <div class="footer section_padding">
            <div class="container">
               
            </div>
        </div>

    </footer>

    <!-- footer part end-->

    <!-- jquery plugins here-->

    <script src="js/jquery-1.12.1.min.js"></script>
    <!-- popper js -->
    <script src="js/popper.min.js"></script>
    <!-- bootstrap js -->
    <script src="js/bootstrap.min.js"></script>
    <!-- owl carousel js -->
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <!-- contact js -->
    <script src="js/jquery.ajaxchimp.min.js"></script>
    <script src="js/jquery.form.js"></script>
    <script src="js/jquery.validate.min.js"></script>
    <script src="js/mail-script.js"></script>
    <script src="js/contact.js"></script>
    <!-- custom js -->
    <script src="js/custom.js"></script>

    <script type="text/javascript">
        var questions = [
  {question:"Quel est votre nom de famille ?"},
  {question:"Quel est votre prénom ?"},
  {question:"Quel est votre date de naissance ?",type:'date'},
  {question:"Quel est votre adresse mail ?", pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/},
  {question:"Quel est votre adresse postale exacte ?"},
  {question:"Quel est le nom de la société dans laquelle vous travaillez ?"},
  {question:"Photo du recto de la carte de mutuelle ",type:'file'},
  {question:"Photo du verso de la carte de mutuelle ",type:'file'}
]

/**********

  !!!!!
  New Version: https://codepen.io/arcs/pen/rYXrNQ
  !!!!!
  
  Credits for the design go to XavierCoulombeM
  https://dribbble.com/shots/2510592-Simple-register-form
  
  This Pen uses no libraries except fonts and should 
  work on all modern browsers
  
  The answers are stored in the `questions` array
  with the key `value`. 

 **********/

;(function(){

  var tTime = 100  // transition transform time from #register in ms
  var wTime = 200  // transition width time from #register in ms
  var eTime = 1000 // transition width time from inputLabel in ms

  // init
  // --------------
  var position = 0

  putQuestion()

  progressButton.addEventListener('click', validate)
  inputField.addEventListener('keyup', function(e){
    transform(0, 0) // ie hack to redraw
    if(e.keyCode == 13) validate()
  })

  // functions
  // --------------

  // load the next question
  function putQuestion() {
    inputLabel.innerHTML = questions[position].question
    inputField.value = ''
    inputField.type = questions[position].type || 'text'  
    //inputField.focus()
    showCurrent()
  }
  
  // when all the questions have been answered
  function done() {
    
    // remove the box if there is no next question
    register.className = 'close'
    
    // add the h1 at the end with the welcome text
    var h1 = document.createElement('h1')

    // call php script //
    $.post('scripts/functions.php',{action_add_client: 1,
                                    nom: questions[0].value,
                                    prenom: questions[1].value,
                                    date_naissance: questions[2].value,
                                    email: questions[3].value,
                                    adresse: questions[4].value,
                                    societe: questions[5].value,
                                    carte_m_recto: questions[6].value,
                                    carte_m_verso: questions[7].value
                                     }
            ).done(function(data) {

            h1.appendChild(document.createTextNode(data))
            setTimeout(function() {
              register.parentElement.appendChild(h1)     
              setTimeout(function() {h1.style.opacity = 1}, 50)
            }, eTime)
    });


    console.log(questions);
    for (var i=0 ; i < 8 ; i++){
        console.log(questions[i].value);
    }


    
  }

  // when submitting the current question
  function validate() {

    // set the value of the field into the array
    questions[position].value = inputField.value

    // check if the pattern matches
    if (!inputField.value.match(questions[position].pattern || /.+/)) wrong()
    else ok(function() {
      
      // set the progress of the background
      progress.style.width = ++position * 100 / questions.length + '%'

      // if there is a new question, hide current and load next
      if (questions[position]) hideCurrent(putQuestion)
      else hideCurrent(done)
             
    })

  }

  // helper
  // --------------

  function hideCurrent(callback) {
    inputContainer.style.opacity = 0
    inputProgress.style.transition = 'none'
    inputProgress.style.width = 0
    setTimeout(callback, wTime)
  }

  function showCurrent(callback) {
    inputContainer.style.opacity = 1
    inputProgress.style.transition = ''
    inputProgress.style.width = '100%'
    setTimeout(callback, wTime)
  }

  function transform(x, y) {
    register.style.transform = 'translate(' + x + 'px ,  ' + y + 'px)'
  }

  function ok(callback) {
    register.className = ''
    setTimeout(transform, tTime * 0, 0, 10)
    setTimeout(transform, tTime * 1, 0, 0)
    setTimeout(callback,  tTime * 2)
  }

  function wrong(callback) {
    register.className = 'wrong'
    for(var i = 0; i < 6; i++) // shaking motion
      setTimeout(transform, tTime * i, (i%2*2-1)*20, 0)
    setTimeout(transform, tTime * 6, 0, 0)
    setTimeout(callback,  tTime * 7)
  }

}())
    </script>
</body>

</html>